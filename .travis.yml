language: java
cache:
  directories:
  - "$HOME/.m2"
jdk:
- oraclejdk8
sudo: required
services:
- docker
notifications:
  email:
  - ludovic.piot@soat.fr
  on_success: always
  on_failure: always
branches:
  only:
  - master
env:
  global:
  - secure: IZlJb73JFnTmcuDyd3RVOLWc0d+EDQJSQ3uHzwqjoRpo44dMpDdYNWk5gQOgFRHLVFnUPsMBS4R4tDDJChHv7RG4stGgwYf1v/baAZpgRqlnG2c+Fiu5WqG3PbHlkbp6dzLm6siVSyKoC8mwlmMMvx2e0A41UihZ8EUP2iqOlUTwLXwg/XrMWLfLaprXfwWY9JNT4749zCGeKO3g9+txpjx9okquq9M/RqmOxUGX/v2ZtqxT2m7XzJNjMw+//yV/T5gttN814b4kMn9YzNnWqf0QceEbFJ0ti4t+NMCMXpLNpOB/EMyjZGebw64oIeRPAlXnH0R9mLYZ1aur8rFf7K1dYtR2ZAwZDudjAt8qCQMMWqZGaS2O6CB5fGkowAhoEiW4a4WrGg4Jzw7uokN24hyBTiqmULSdZ/3JhBDD8iFMofjoXEtrFD/AEStq5GXDnyOUFVrzFC3juYfZKJXwsMgD6losrndWQ91otZxjdSAsT7DnFXq7e4EFwuwpby2IkoiO2wAWgSBI5emkuMo1Fi98rKJu6cAB+wF1jbMHOwvD+BJKcJxT1p3kZx4w3IZ7KxdVoER7PxRiibNJx2f5V24m5DHD3iUMtNEkikeZ5hHDch9xs3DYcjzvnL8lnwJArGoC0HJ9JqEaYqa9D8dTcd1gy2HIC0vLqiENsHxu0X0=
  - secure: tWMuIJKZKJh0ma6n5/8wwTTLtApsAN1zCRCbmbJf+/3538vwCxVLjloxWGiL5KCyfMCl42evmKu/NBc5c23khQ33SaQkzX5S9SeyusozbkOx582RnfixWnvyWH/QYNvOYV0ShqsW0TK+4RdLNNEnbsgqCLcr9btGDLJej1gmQokPKIRjMNjuJyF1wnYNpyduMnNkLGrNdB+EhIwfOp8qqaP1OTJUShn/zrTRCgBgNzX3wjt9YHTfvIWusYHQVLDtGZhIIQMOqQ/2pcnskubLIPEcjuGoJ8P6bnb6vz7AnVdBOXyp+3Mm/HCBQinQAiTz8h9J1jJ3f/0o6IRry4EYK8dOC95XKL7LHQyNVgJCxFLBDFTLOLtUSmBw+MrAUbPcof4oxClFlGPRIfEDO1K05tgKlHHsUi3jqCCs/vX17xQ82KxwF+vx17tuNqPglu90CBdfnBAxbd9ic1hUI/VPFTDgXQ46Rw9qul9dGfcSwCCiNtyaaISNeNXTU5diuZQrW+rp0Z0tXDaVaSNEkuPo8aiv58VFIjHckaXAMM1d8gpF+xuj7iNPx39lmBoDAMoTmjJq6JfGZjvZjeUwfQpjxu0owd3BnO9pSLiTirXTtLfSJiMG9AjVaVBxnMtqlNTS6eThrQwKS8YVDi/KAYTCbnYPE79ervLC1aFWktM+iBs=
  - secure: sccuyDfQNilEe7P4vdgwtEM3dQRWSNVTyKT+/srUr+nshBj/+dX3W3Tdk/51ovGkRpqRGtCG5nrvxZjiix6uGrMib99Ct1h1GVILIHTRD0m7kCVlYo5lE2TXBOOAMkc3+B42p551hZ7wvuTxIntl8cTsq41GUzh69Q5v+fR/YCvcZf7rR4QuAqMQtL8JMUPnAuMsPcPP/v0FugnxuEgf6ydY7sVZiXwzQC0q5jVggOQqVM4UQxHHfTbCu44li2O09BuOsj18Ti92rpxaJmFE0/ZgfEWcz/CCdPH24ZlE2d192xvuf85TJOtHcxN/ayKM2UP17ljfLnD2/M+UNLeN9QRmysHQvh0LjmKCUMiyKV9DeZKg+HxF20zSKww96vDBLwP8QC7DMEnq2P6p9uh3Saw7UrP278ttNdTtOXR6N++fe+0BMzVxIF317UnNz7zkatZQtwU8BooGXHiRzKfclmKJ1AOIJrK77bE0Nz2ja8sq1+GXIxzeVOpFaUJ/fouoEqUR3wELaqB0CaHVzCvjpqANqAY/P7L/jChHvvONhKHb/WXAPFH7vHot03yoQ8IT9vsLFiSHwg5W26iAaaPEpHuGYdKryk/uT7/rS+T6YO58u5OBFxTYM9BKComEXd8d7EhffQawyLA9S9A7tcqP7YOUFmktqCiXFkrsRRyEIW0=
  - secure: i0aA1mHRMDjeg7LEUPi/QF58G15qvu0APpR9UIdJ7bDyO8F6F2QHnhMFljZDQSImtAVj037gziyDZZTFwCxD5+W/x1qgnTH2AsIo9UzDNy6NVCRG6iFzcPFP7re7YprMgJAyhSURLSRtC26t2s9xVFj8qBY3fF7Xhh6Uija42iqMs7PzJnN+/ElRzbSvtrpWLQ6Dncltb3QaF+CVBUQrRKpOIbaumoQBZOqdX1XzRz6aodjo//fAaqtMCGUDwQLpDuuj/elMb8ADZ87/qrA8AzEt3sobcXntn/gb8wIbFW8I7Cim8c4FIYJ5vEZU6Dl4AtFANBEcsaPi8L2/PdozHFPY6n9jk2RhLYFrY0prOJ7s+HNOEBpbrXOe4bjsw6ghYNEXdERfCraCC2PkPjhuN17s35MKxD0477/p1fBP+Yq05qy4i70gvu8qG5jTrho1DkdtIkVoJdflTQpwnYc92UFbCN2FJJgUtXk2XvEo3q0bAZfEiZMVCe5xAMK99ANSJ9D9X6j56ZvElWyuijreRn4//8UhFIft7pi3ZrI3CmfJO4FJKXEXIsj1kgQalB1LOvDaBBCqFn1VWwBkmL0mHm+P3Sq2r3/nb2HAKNAYNz+YGRaIRhAlm/yfi7kZmJc6MkSg/v15IZKqPCkTxlkdYyZkHVDtxn0ypRzNenXJ0sY=
  - secure: iDv4EgDKqZ6ZQKw8rJvBhTjWOmKJ0dpTXpCFv+ci4hbW47XWoHN6cIb0UZvXL8rhcRaz2P01/rSt6bj4gkecv594JGuvlNLEm4JY7wuvkWwaf0geMhGRkg3luHIdxrzT3sWRzU4LCXzye62RYht9s3ldhKiw4LeEjh5KUouEWmV7ook0c641TLcSlp4mqFqP1ikksiOyvwFSogo50ptdLKMmcv/1e+GxrrVwUH8aQWu4GT1symWJigYgB6fJ7b/JFIX2fQT7blS/AqpwTPtxg7v09zjtpW2vPTNxq4WIMiPATB8/sVjYhqY0lr184EDmqdBeu2chJYpRLHgshXpsUAIyA1TCZgqB9Bp0I3gbFFPsmJ1elurhTQowzYEkbZBT3RsYA2fy27u6WTsJjBkX+Lhen8wQQI8bLHymsct1EPVKSZAep2lOn450uWdEj5eb0PvgO3/bGnOkfq0uCquC3X7D9DJip6NenVQn3RxhQWHNyvJxUUO9dqFeMF0IA1yWGYr6LIDF4W55554o/mepG3xG3bok/R1uq2v0RDygLGXBHTyTZANPmHON4tThJyJJkg8Z77FfP0X0s/MYGeiEU4rVg34CAPA+qGrI10PFg43sVOsIR0SV3H3+i3qeHDvcDTTfynxz/pam1O3VMx1n3qwwsyJbpo9wjaHiexqHiZI=
before_install:
- gem install travis -v 1.8.9 --no-document
- export BUILD_NAME=scc-eurekasvr-$TRAVIS_BRANCH-$(date -u "+%Y%m%d%H%M%S")-$TRAVIS_BUILD_NUMBER
script:
- sh scripts/travis/tag_build.sh
- sh scripts/travis/build_services.sh
- sh scripts/travis/deploy_to_docker_hub.sh
