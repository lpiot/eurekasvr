language: java
cache:
  directories:
  - "$HOME/.m2"
jdk:
- oraclejdk8
sudo: required
services:
- docker
notifications:
  email:
  - ludovic.piot@soat.fr
  on_success: always
  on_failure: always
branches:
  only:
  - master
env:
  global:
  - secure: IZlJb73JFnTmcuDyd3RVOLWc0d+EDQJSQ3uHzwqjoRpo44dMpDdYNWk5gQOgFRHLVFnUPsMBS4R4tDDJChHv7RG4stGgwYf1v/baAZpgRqlnG2c+Fiu5WqG3PbHlkbp6dzLm6siVSyKoC8mwlmMMvx2e0A41UihZ8EUP2iqOlUTwLXwg/XrMWLfLaprXfwWY9JNT4749zCGeKO3g9+txpjx9okquq9M/RqmOxUGX/v2ZtqxT2m7XzJNjMw+//yV/T5gttN814b4kMn9YzNnWqf0QceEbFJ0ti4t+NMCMXpLNpOB/EMyjZGebw64oIeRPAlXnH0R9mLYZ1aur8rFf7K1dYtR2ZAwZDudjAt8qCQMMWqZGaS2O6CB5fGkowAhoEiW4a4WrGg4Jzw7uokN24hyBTiqmULSdZ/3JhBDD8iFMofjoXEtrFD/AEStq5GXDnyOUFVrzFC3juYfZKJXwsMgD6losrndWQ91otZxjdSAsT7DnFXq7e4EFwuwpby2IkoiO2wAWgSBI5emkuMo1Fi98rKJu6cAB+wF1jbMHOwvD+BJKcJxT1p3kZx4w3IZ7KxdVoER7PxRiibNJx2f5V24m5DHD3iUMtNEkikeZ5hHDch9xs3DYcjzvnL8lnwJArGoC0HJ9JqEaYqa9D8dTcd1gy2HIC0vLqiENsHxu0X0=
  - secure: tWMuIJKZKJh0ma6n5/8wwTTLtApsAN1zCRCbmbJf+/3538vwCxVLjloxWGiL5KCyfMCl42evmKu/NBc5c23khQ33SaQkzX5S9SeyusozbkOx582RnfixWnvyWH/QYNvOYV0ShqsW0TK+4RdLNNEnbsgqCLcr9btGDLJej1gmQokPKIRjMNjuJyF1wnYNpyduMnNkLGrNdB+EhIwfOp8qqaP1OTJUShn/zrTRCgBgNzX3wjt9YHTfvIWusYHQVLDtGZhIIQMOqQ/2pcnskubLIPEcjuGoJ8P6bnb6vz7AnVdBOXyp+3Mm/HCBQinQAiTz8h9J1jJ3f/0o6IRry4EYK8dOC95XKL7LHQyNVgJCxFLBDFTLOLtUSmBw+MrAUbPcof4oxClFlGPRIfEDO1K05tgKlHHsUi3jqCCs/vX17xQ82KxwF+vx17tuNqPglu90CBdfnBAxbd9ic1hUI/VPFTDgXQ46Rw9qul9dGfcSwCCiNtyaaISNeNXTU5diuZQrW+rp0Z0tXDaVaSNEkuPo8aiv58VFIjHckaXAMM1d8gpF+xuj7iNPx39lmBoDAMoTmjJq6JfGZjvZjeUwfQpjxu0owd3BnO9pSLiTirXTtLfSJiMG9AjVaVBxnMtqlNTS6eThrQwKS8YVDi/KAYTCbnYPE79ervLC1aFWktM+iBs=
  - secure: sccuyDfQNilEe7P4vdgwtEM3dQRWSNVTyKT+/srUr+nshBj/+dX3W3Tdk/51ovGkRpqRGtCG5nrvxZjiix6uGrMib99Ct1h1GVILIHTRD0m7kCVlYo5lE2TXBOOAMkc3+B42p551hZ7wvuTxIntl8cTsq41GUzh69Q5v+fR/YCvcZf7rR4QuAqMQtL8JMUPnAuMsPcPP/v0FugnxuEgf6ydY7sVZiXwzQC0q5jVggOQqVM4UQxHHfTbCu44li2O09BuOsj18Ti92rpxaJmFE0/ZgfEWcz/CCdPH24ZlE2d192xvuf85TJOtHcxN/ayKM2UP17ljfLnD2/M+UNLeN9QRmysHQvh0LjmKCUMiyKV9DeZKg+HxF20zSKww96vDBLwP8QC7DMEnq2P6p9uh3Saw7UrP278ttNdTtOXR6N++fe+0BMzVxIF317UnNz7zkatZQtwU8BooGXHiRzKfclmKJ1AOIJrK77bE0Nz2ja8sq1+GXIxzeVOpFaUJ/fouoEqUR3wELaqB0CaHVzCvjpqANqAY/P7L/jChHvvONhKHb/WXAPFH7vHot03yoQ8IT9vsLFiSHwg5W26iAaaPEpHuGYdKryk/uT7/rS+T6YO58u5OBFxTYM9BKComEXd8d7EhffQawyLA9S9A7tcqP7YOUFmktqCiXFkrsRRyEIW0=
  - secure: YvcLoAxe5cObt64WlW+5m0e0zmiM30OOJHxP71WYhorLtTY+hTw2k54ae2BxmVP7upR5rNJJkzqIDgBspsLeLRkVvsHNyU/94SpAupd1+GUNMg/1tYiFTI6e4RPPxc7/w9stCvr8Z99WCQawfcv30K3ikVbSPhOmMAEpb9BtbdPZ0h70pBdnKd4kxAsMChqqzERylY9qglKgz4xpT2T+pWVT7FizbIW/n8SNuEk2F5xRPxqc/hdcFH/NcQq9YpDUVWC6CdSJN2smcgY+Ksi6T+7R0WzMEXO6m80LDo4Odil29vG0Mf54d+z7Xi6uhtQwnGninSq0oVi1eibO9YgI/R7iZTGFDg8dNi4JBnqiLQ5SxyMwCR7OGsGmWSIEUOV9Hd2LDc/Ed/CSemWjWC/3kkfVDqT6gZfhJeULfWksvfFPZqYc0L0hW718okm4psw925bnQulmapdAWFg3cCubYUllYKdiWBbqPQHISyvTtbFo6/TuNFaNFO13iYvRkAdNbOOu/1QtID9sGPNCfcktOL/gpMc6dQDMiCi9RPnChEDXo2vGtaySG8gT4J/EBUhtuPxJJJ8HJRHLaAZQ0glKhq3PSRTZjrWQf5lZ3nFZwB3w9CbJhcgmnrunaQVe12GR8i1idycbfjXZbadSpH3r0CAQRw9INenEZglPqm5oPMs=
  - secure: kk7ApH3mqeXePhZgZky+dO/Y6sJH4MLOQq7AWxJZK5LnGUi2QOJ57BM34CjC4nvdxPHxKTlnG1Dep0S9Xcnmcq6EvrMsMZj7tRSdHRTfE74BCn51kfh508HZP3i1wgDB6zNXv9OrpRWdqCn7PwQnJ5HwLoM1mW3wIaxbRJHo88eHZ3wC2o+5lm67UkxiHq8zBzIn+N2KHgc0uzQ5MDn+43N4slCpnaTH21IA2p3ZRzv0Bu1FgORwkgE9L37K5wUnMsxPFbFJVK3erhxSuoksYa3h7uC/+f20rGQLylZKrPo/oxdE1hAGTdVXCVfydf3HAI2WkUy7mdlFFelAq4z/uhOS/9tRLmKfAcFx/n8lJp//xGshKBWbZHtmmtMdT4IXQsBt+h5Cm6A7q1OaPXRFJ3guvm+qBypbqYeyV+7ps+e/qbQj8HVG1GOifJDHkzWe1zS1tFw+drILLgG0pdSM0JBMu8V7+AMlJldEYoswUa106sqAECbqyhOt81ShmY+dt2TMeCVnV4dhht48MIpmhA/L/Toh87bcq+DZ0R4P0fzoJdfZU6aSlcTeVSC2T8pEJHNalt2aKmtFpBljPmTT1RoXFRR5BD1BmjYL42TmBVPfEEx2RrXfBxPhxy5RSx2aSHPXapK9VaG12QA0YlUi+9p0nTaBh9XBGN4oILVAHeo=
before_install:
- gem install travis -v 1.8.9 --no-document
- export BUILD_NAME=scc-eurekasvr-$TRAVIS_BRANCH-$(date -u "+%Y%m%d%H%M%S")-$TRAVIS_BUILD_NUMBER
script:
- sh scripts/travis/tag_build.sh
- sh scripts/travis/build_services.sh
- sh scripts/travis/deploy_to_docker_hub.sh