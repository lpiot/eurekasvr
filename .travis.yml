language: java
cache:
  directories:
  - "$HOME/.m2"
jdk:
- oraclejdk8
sudo: required
services:
- docker
notifications:
  email:
  - ludovic.piot@soat.fr
  on_success: always
  on_failure: always
branches:
  only:
  - master
env:
  global:
  - secure: IZlJb73JFnTmcuDyd3RVOLWc0d+EDQJSQ3uHzwqjoRpo44dMpDdYNWk5gQOgFRHLVFnUPsMBS4R4tDDJChHv7RG4stGgwYf1v/baAZpgRqlnG2c+Fiu5WqG3PbHlkbp6dzLm6siVSyKoC8mwlmMMvx2e0A41UihZ8EUP2iqOlUTwLXwg/XrMWLfLaprXfwWY9JNT4749zCGeKO3g9+txpjx9okquq9M/RqmOxUGX/v2ZtqxT2m7XzJNjMw+//yV/T5gttN814b4kMn9YzNnWqf0QceEbFJ0ti4t+NMCMXpLNpOB/EMyjZGebw64oIeRPAlXnH0R9mLYZ1aur8rFf7K1dYtR2ZAwZDudjAt8qCQMMWqZGaS2O6CB5fGkowAhoEiW4a4WrGg4Jzw7uokN24hyBTiqmULSdZ/3JhBDD8iFMofjoXEtrFD/AEStq5GXDnyOUFVrzFC3juYfZKJXwsMgD6losrndWQ91otZxjdSAsT7DnFXq7e4EFwuwpby2IkoiO2wAWgSBI5emkuMo1Fi98rKJu6cAB+wF1jbMHOwvD+BJKcJxT1p3kZx4w3IZ7KxdVoER7PxRiibNJx2f5V24m5DHD3iUMtNEkikeZ5hHDch9xs3DYcjzvnL8lnwJArGoC0HJ9JqEaYqa9D8dTcd1gy2HIC0vLqiENsHxu0X0=
  - secure: tWMuIJKZKJh0ma6n5/8wwTTLtApsAN1zCRCbmbJf+/3538vwCxVLjloxWGiL5KCyfMCl42evmKu/NBc5c23khQ33SaQkzX5S9SeyusozbkOx582RnfixWnvyWH/QYNvOYV0ShqsW0TK+4RdLNNEnbsgqCLcr9btGDLJej1gmQokPKIRjMNjuJyF1wnYNpyduMnNkLGrNdB+EhIwfOp8qqaP1OTJUShn/zrTRCgBgNzX3wjt9YHTfvIWusYHQVLDtGZhIIQMOqQ/2pcnskubLIPEcjuGoJ8P6bnb6vz7AnVdBOXyp+3Mm/HCBQinQAiTz8h9J1jJ3f/0o6IRry4EYK8dOC95XKL7LHQyNVgJCxFLBDFTLOLtUSmBw+MrAUbPcof4oxClFlGPRIfEDO1K05tgKlHHsUi3jqCCs/vX17xQ82KxwF+vx17tuNqPglu90CBdfnBAxbd9ic1hUI/VPFTDgXQ46Rw9qul9dGfcSwCCiNtyaaISNeNXTU5diuZQrW+rp0Z0tXDaVaSNEkuPo8aiv58VFIjHckaXAMM1d8gpF+xuj7iNPx39lmBoDAMoTmjJq6JfGZjvZjeUwfQpjxu0owd3BnO9pSLiTirXTtLfSJiMG9AjVaVBxnMtqlNTS6eThrQwKS8YVDi/KAYTCbnYPE79ervLC1aFWktM+iBs=
  - secure: sccuyDfQNilEe7P4vdgwtEM3dQRWSNVTyKT+/srUr+nshBj/+dX3W3Tdk/51ovGkRpqRGtCG5nrvxZjiix6uGrMib99Ct1h1GVILIHTRD0m7kCVlYo5lE2TXBOOAMkc3+B42p551hZ7wvuTxIntl8cTsq41GUzh69Q5v+fR/YCvcZf7rR4QuAqMQtL8JMUPnAuMsPcPP/v0FugnxuEgf6ydY7sVZiXwzQC0q5jVggOQqVM4UQxHHfTbCu44li2O09BuOsj18Ti92rpxaJmFE0/ZgfEWcz/CCdPH24ZlE2d192xvuf85TJOtHcxN/ayKM2UP17ljfLnD2/M+UNLeN9QRmysHQvh0LjmKCUMiyKV9DeZKg+HxF20zSKww96vDBLwP8QC7DMEnq2P6p9uh3Saw7UrP278ttNdTtOXR6N++fe+0BMzVxIF317UnNz7zkatZQtwU8BooGXHiRzKfclmKJ1AOIJrK77bE0Nz2ja8sq1+GXIxzeVOpFaUJ/fouoEqUR3wELaqB0CaHVzCvjpqANqAY/P7L/jChHvvONhKHb/WXAPFH7vHot03yoQ8IT9vsLFiSHwg5W26iAaaPEpHuGYdKryk/uT7/rS+T6YO58u5OBFxTYM9BKComEXd8d7EhffQawyLA9S9A7tcqP7YOUFmktqCiXFkrsRRyEIW0=
  - secure: zW0bQ03H9SPsu9KnfmQsNmZfzo5JlKHmHP03H9i08MmJQzuxJLHG9pyVpbn8jsQ1bKqNgCI5XqfUVCH2lcy3MGNXzhNyGHpKirTvU5T/TFw61iBYj9UhG/iM95TvOyIUnH6bXUGvtyiSiTEOLGvt0JnBnadPIbaUMu0Pg6BFijhOvza/kpmKZGRZ8ymgNhAq39m7qvba3LUx498bEseGHIUTcIOFPPE0aDTT552/BCmxeKfeGX2K5b/i2ymMqaQgC8h4DZyvW/8owYgwUFKkREgrCV8LysPy6lqsz8MzMKnScJZ/UN9+mEi+COnaFYrS1hejksVl8Ri7AlD9yv39tjNN+SpZ4+B9XbvI44wcUHlRcCw9ijKiPIFXMZrbHBvR/p4oZL4cG1fdcoF8EyAXAgYsY244JTeYVBkGwvsf4wJ++jyh50Q4dNIgJP+k2qiBL98IBFR2/vh4UDhUyRTAuj3S1/z9O3X7gSUZfK2d9sEcrTiW4fYDaAlNF52JyXwRopmc8VXPgFe4+r4P+GHn1yCkZAWbj6VQwlsRF1/+8kMWR1u+TYEWqcJZk2uOFLOAHt7dDCjwYiZkqfPyBJNMeC+Jw5U65Wi+kLtWTnuRGdU8E8reepEhiNRv30e54AOhJk4ePfWAS7lrJLf+UC7zheMpJWJe+0B5v0lL6goRufA=
before_install:
- gem install travis -v 1.8.9 --no-document
- export BUILD_NAME=scc-eurekasvr-$TRAVIS_BRANCH-$(date -u "+%Y%m%d%H%M%S")-$TRAVIS_BUILD_NUMBER
script:
- sh scripts/travis/tag_build.sh
- sh scripts/travis/build_services.sh
- sh scripts/travis/deploy_to_docker_hub.sh
